<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Learn Bridge Design Pattern interactively - Optimized for students">
    <title>Learn Bridge Pattern - Interactive Course</title>
    <link rel="stylesheet" href="assets/css/student-optimized.css">
    <link rel="icon" type="image/svg+xml" href="assets/images/bridge-icon.svg">
</head>

<body>
    <!-- Simplified Navigation with Learning Progress -->
    <nav class="learning-nav" role="navigation" aria-label="Learning Progress">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="nav-title">üåâ Bridge Pattern</span>
            </div>
            <div class="progress-tracker">
                <div class="progress-step" id="step-1">
                    <span class="step-number">1</span>
                    <span class="step-name">Problem</span>
                </div>
                <div class="progress-step" id="step-2">
                    <span class="step-number">2</span>
                    <span class="step-name">Solution</span>
                </div>
                <div class="progress-step" id="step-3">
                    <span class="step-number">3</span>
                    <span class="step-name">Practice</span>
                </div>
                <div class="progress-step" id="step-4">
                    <span class="step-number">4</span>
                    <span class="step-name">Draw Method</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Step 1: Understanding the Problem -->
    <section id="problem-section" class="learning-step active" aria-labelledby="problem-title">
        <div class="step-container">
            <div class="step-header">
                <h1 id="problem-title">ü§Ø The Problem: Too Many Classes!</h1>
                <p class="step-subtitle">Imagine you're programming a graphics application...</p>
            </div>

            <div class="story-container">
                <div class="character">
                    <div class="character-avatar">üë®‚Äçüíª</div>
                    <div class="character-name">Max the Programmer</div>
                </div>
                <div class="story-bubble">
                    <p>"I want to draw shapes in different colors. I need red circles, blue circles,
                        red squares, blue squares... Oh no! That's way too many classes!"</p>
                </div>
            </div>

            <div class="problem-demo">
                <h3>üò± Without Bridge Pattern:</h3>
                <div class="classes-explosion">
                    <div class="class-item bad">RedCircle</div>
                    <div class="class-item bad">BlueCircle</div>
                    <div class="class-item bad">GreenCircle</div>
                    <div class="class-item bad">RedSquare</div>
                    <div class="class-item bad">BlueSquare</div>
                    <div class="class-item bad">GreenSquare</div>
                    <div class="class-item bad">RedTriangle</div>
                    <div class="class-item bad">BlueTriangle</div>
                    <div class="class-item bad">GreenTriangle</div>
                </div>
                <div class="problem-calculation">
                    <span class="calculation-bad">3 Shapes √ó 3 Colors = 9 Classes! üòµ</span>
                </div>
            </div>

            <div class="step-action">
                <button class="next-step-btn" onclick="goToStep(2)">
                    <span class="btn-text">There has to be a better way!</span>
                    <span class="btn-icon">‚Üí</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Step 2: The Bridge Solution -->
    <section id="solution-section" class="learning-step" aria-labelledby="solution-title">
        <div class="step-container">
            <div class="step-header">
                <h1 id="solution-title">üí° Understanding the Bridge Solution!</h1>
                <p class="step-subtitle">Divide and conquer: Separate shapes from colors</p>
            </div>

            <div class="bridge-explanation">
                <div class="bridge-visual">
                    <div class="forms-side">
                        <h3>Shapes (Abstraction)</h3>
                        <div class="element-group">
                            <div class="element">‚≠ï Circle</div>
                            <div class="element">‚¨ú Square</div>
                            <div class="element">üî∫ Triangle</div>
                        </div>
                        <div class="element-count">3 Classes</div>
                    </div>

                    <div class="bridge-connection">
                        <div class="bridge-icon">üåâ</div>
                        <div class="bridge-label">BRIDGE</div>
                        <div class="bridge-description">"Shape asks Color: What color should I have?"</div>
                    </div>

                    <div class="colors-side">
                        <h3>Colors (Implementation)</h3>
                        <div class="element-group">
                            <div class="element color-red">üî¥ Red</div>
                            <div class="element color-blue">üîµ Blue</div>
                            <div class="element color-green">üü¢ Green</div>
                        </div>
                        <div class="element-count">3 Classes</div>
                    </div>
                </div>

                <div class="solution-calculation">
                    <span class="calculation-good">3 Shapes + 3 Colors = 6 Classes! üéâ</span>
                </div>
            </div>

            <!-- Pattern Components -->
            <div class="pattern-components">
                <h3>üß© The Four Main Components of the Bridge Pattern</h3>
                <div class="components-grid">
                    <div class="component-card">
                        <div class="component-icon">‚≠ï‚¨úüî∫</div>
                        <h4>Abstraction (Shape)</h4>
                        <p><strong>What:</strong> Contains the bridge reference to Color</p>
                        <p><strong>Job:</strong> Defines shape-specific methods like draw()</p>
                        <div class="code-snippet-small">
                            <code>class Shape {
  constructor(color) {
    this.color = color; // Bridge!
  }
}</code>
                        </div>
                    </div>

                    <div class="component-card">
                        <div class="component-icon">‚≠ï</div>
                        <h4>Refined Abstraction</h4>
                        <p><strong>What:</strong> Concrete shape implementations</p>
                        <p><strong>Job:</strong> Each shape defines its own draw() logic</p>
                        <div class="code-snippet-small">
                            <code>class Circle extends Shape {
  draw() {
    // Shape-specific
    this.color.getFillStyle();
  }
}</code>
                        </div>
                    </div>

                    <div class="component-card">
                        <div class="component-icon">üé®</div>
                        <h4>Implementor (Color)</h4>
                        <p><strong>What:</strong> Interface for primitive color operations</p>
                        <p><strong>Job:</strong> Does NOT need to match the shape interface</p>
                        <div class="code-snippet-small">
                            <code>interface Color {
  getFillStyle();
  getStrokeStyle();
}</code>
                        </div>
                    </div>

                    <div class="component-card">
                        <div class="component-icon">üî¥üîµüü¢</div>
                        <h4>Concrete Implementor</h4>
                        <p><strong>What:</strong> Specific color implementations</p>
                        <p><strong>Job:</strong> Platform-specific details (CSS, Canvas, SVG...)</p>
                        <div class="code-snippet-small">
                            <code>class Red implements Color {
  getFillStyle() {
    return "#ef4444";
  }
}</code>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bridge Delegation Sequence -->
            <div class="delegation-sequence">
                <h3>üîÑ Bridge Delegation in Action</h3>
                <div class="sequence-container">
                    <div class="sequence-step">
                        <div class="sequence-actor client">Client</div>
                        <div class="sequence-arrow">‚Üí</div>
                        <div class="sequence-call">shape.draw()</div>
                    </div>
                    <div class="sequence-step">
                        <div class="sequence-actor shape">Shape</div>
                        <div class="sequence-arrow">‚Üí</div>
                        <div class="sequence-call">color.getFillStyle()</div>
                    </div>
                    <div class="sequence-step">
                        <div class="sequence-actor color">Color</div>
                        <div class="sequence-arrow">‚Üí</div>
                        <div class="sequence-call">return "#ef4444"</div>
                    </div>
                    <div class="sequence-step">
                        <div class="sequence-actor shape">Shape</div>
                        <div class="sequence-arrow">‚Üí</div>
                        <div class="sequence-call">canvas.fillStyle = value</div>
                    </div>
                </div>
                <div class="delegation-explanation">
                    <p>üí° <strong>Key:</strong> Shape handles shape-specific logic (coordinates,
                        size),
                        but delegates all color details to the Color object. This way both responsibilities are cleanly
                        separated.</p>
                </div>
            </div>

            <!-- Practical Tips -->
            <div class="practical-tips">
                <h3>üéØ Practical Tips for Bridge Pattern</h3>
                <div class="tips-grid">
                    <div class="tip-card">
                        <div class="tip-header">
                            <span class="tip-icon">üîç</span>
                            <h4>When to Use?</h4>
                        </div>
                        <ul>
                            <li>Two <strong>independent dimensions</strong> of variation</li>
                            <li>Avoiding <strong>class explosion</strong></li>
                            <li><strong>Runtime switching</strong> of implementation desired</li>
                            <li>Platform-specific implementations</li>
                        </ul>
                    </div>

                    <div class="tip-card">
                        <div class="tip-header">
                            <span class="tip-icon">‚ö°</span>
                            <h4>Advantages</h4>
                        </div>
                        <ul>
                            <li><strong>Scalability:</strong> Linear instead of exponential complexity</li>
                            <li><strong>Flexibility:</strong> Implementation switchable at runtime</li>
                            <li><strong>Separation:</strong> Abstraction independent from implementation</li>
                            <li><strong>Extensibility:</strong> New shapes/colors easily addable</li>
                        </ul>
                    </div>

                    <div class="tip-card">
                        <div class="tip-header">
                            <span class="tip-icon">üö®</span>
                            <h4>Common Mistakes</h4>
                        </div>
                        <ul>
                            <li><strong>Confusion with Strategy:</strong> Bridge separates dimensions, Strategy
                                algorithms</li>
                            <li><strong>Over-engineering:</strong> Don't use for few, stable combinations
                            </li>
                            <li><strong>Interface design:</strong> Implementor interface must contain primitive operations
                                </li>
                            <li><strong>Forgetting delegation:</strong> Abstraction must actually delegate</li>
                        </ul>
                    </div>

                    <div class="tip-card">
                        <div class="tip-header">
                            <span class="tip-icon">üîß</span>
                            <h4>Implementation Tips</h4>
                        </div>
                        <ul>
                            <li><strong>Composition over inheritance:</strong> Implementor as field, not parent class
                            </li>
                            <li><strong>Interface segregation:</strong> Keep implementor small and focused</li>
                            <li><strong>Factory pattern:</strong> Combine for complex object creation</li>
                            <li><strong>Null object:</strong> Default implementation for more robust code</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="step-action">
                <button class="next-step-btn" onclick="goToStep(3)">
                    <span class="btn-text">Now try it hands-on!</span>
                    <span class="btn-icon">üéÆ</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Step 3: Interactive Playground -->
    <section id="playground-section" class="learning-step" aria-labelledby="playground-title">
        <div class="step-container">
            <div class="step-header">
                <h1 id="playground-title">üéÆ Your Bridge Playground!</h1>
                <p class="step-subtitle">Drag shapes onto colors and see the Bridge in action!</p>
            </div>


            <div class="playground-area">
                <div class="shapes-panel">
                    <h3>üî∑ Shapes (drag)</h3>
                    <div class="draggable-items">
                        <div class="draggable-item shape" draggable="true" data-shape="circle">
                            <span class="item-icon">‚≠ï</span>
                            <span class="item-name">Circle</span>
                        </div>
                        <div class="draggable-item shape" draggable="true" data-shape="square">
                            <span class="item-icon">‚¨ú</span>
                            <span class="item-name">Square</span>
                        </div>
                        <div class="draggable-item shape" draggable="true" data-shape="triangle">
                            <span class="item-icon">üî∫</span>
                            <span class="item-name">Triangle</span>
                        </div>
                    </div>
                </div>

                <div class="colors-panel">
                    <h3>üé® Colors (drop here)</h3>
                    <div class="drop-zones">
                        <div class="drop-zone" data-color="red">
                            <span class="color-icon">üî¥</span>
                            <span class="color-name">Red</span>
                            <div class="connection-status">Waiting for shape...</div>
                        </div>
                        <div class="drop-zone" data-color="blue">
                            <span class="color-icon">üîµ</span>
                            <span class="color-name">Blue</span>
                            <div class="connection-status">Waiting for shape...</div>
                        </div>
                        <div class="drop-zone" data-color="green">
                            <span class="color-icon">üü¢</span>
                            <span class="color-name">Green</span>
                            <div class="connection-status">Waiting for shape...</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="canvas-result">
                <h3>üñºÔ∏è Result:</h3>
                <canvas id="playground-canvas" width="400" height="200"></canvas>
                <div class="canvas-help">Drag shapes to colors to see them here!</div>
            </div>

            <div class="bridge-log">
                <h3>üîç Bridge Calls Live:</h3>
                <div id="call-log" class="log-container">
                    <div class="log-placeholder">Connect a shape with a color to see the Bridge calls!
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="action-btn" id="draw-all" disabled>
                    <span class="btn-icon">üé®</span>
                    <span class="btn-text">Draw All (Bridge)</span>
                </button>
                <button class="action-btn" id="move-all" disabled>
                    <span class="btn-icon">üìç</span>
                    <span class="btn-text">Change Position</span>
                </button>
                <button class="action-btn" id="clear-all" disabled>
                    <span class="btn-icon">üóëÔ∏è</span>
                    <span class="btn-text">Clear All</span>
                </button>
            </div>

            <!-- UML Diagram Visualization -->
            <div class="uml-container">
                <h3>üé® Live UML Diagram</h3>
                <p class="uml-description">
                    The diagram below updates automatically based on the connections
                    you create in the playground. This way you can track the Bridge structure live!
                </p>
                <div class="uml-diagram" id="interactive-uml">
                    <div class="empty-uml">
                        <p>Create connections to see the UML diagram</p>
                    </div>
                </div>
            </div>

            <div class="step-action">
                <button class="next-step-btn" onclick="goToStep(4)">
                    <span class="btn-text">How does the Draw method work?</span>
                    <span class="btn-icon">üé®</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Step 4: How the Draw Method Works -->
    <section id="draw-method-section" class="learning-step" aria-labelledby="draw-method-title">
        <div class="step-container">
            <div class="step-header">
                <h1 id="draw-method-title">üé® How the Draw Method Works</h1>
                <p class="step-subtitle">The core of the Bridge Pattern: Delegation in Action!</p>
            </div>

            <div class="method-intro">
                <p class="intro-text">
                    The <strong>Draw Method</strong> is the heart of our Bridge Pattern demonstration.
                    It shows exactly how abstraction and implementation work together in real-time!
                </p>
            </div>

            <div class="method-steps">
                <div class="step-card" data-step="1">
                    <div class="step-header-card">
                        <span class="step-number">1</span>
                        <h3>üåâ Bridge Pattern Delegation</h3>
                    </div>
                    <div class="step-content">
                        <p><strong>What happens:</strong> Shape (Abstraction) asks Color (Implementation) for
                            styling information</p>
                        <div class="code-snippet">
                            <code>delegationCall = `color.getFillStyle() ‚Üí "${color.value}"`;</code>
                        </div>
                        <p><strong>Bridge Concept:</strong> Shape doesn't know HOW colors are created, it simply asks
                            the Color object for the values!</p>
                    </div>
                </div>

                <div class="step-card" data-step="2">
                    <div class="step-header-card">
                        <span class="step-number">2</span>
                        <h3>üñºÔ∏è Visual Canvas Rendering</h3>
                    </div>
                    <div class="step-content">
                        <p><strong>Triggers drawing:</strong> Calls <code>this.updateCanvas()</code> which:</p>
                        <ul class="step-list">
                            <li>Clears canvas: <code>this.clearCanvas()</code></li>
                            <li>Loops through all connections: For each shape-color combination</li>
                            <li>Calls <code>drawShapeAtPosition()</code>: Actually draws on canvas</li>
                        </ul>
                    </div>
                </div>

                <div class="step-card" data-step="3">
                    <div class="step-header-card">
                        <span class="step-number">3</span>
                        <h3>‚úèÔ∏è Real Canvas Implementation</h3>
                    </div>
                    <div class="step-content">
                        <p><strong>Bridge in Action:</strong> Color object provides the actual values</p>
                        <div class="code-snippet">
                            <code>ctx.fillStyle = color.value;      // e.g. '#ef4444' (red)<br>
ctx.strokeStyle = color.strokeValue; // e.g. '#dc2626' (dark red)</code>
                        </div>
                        <p><strong>Shape-specific logic:</strong> Each shape draws itself differently:</p>
                        <ul class="step-list">
                            <li><strong>Circle:</strong> <code>ctx.arc(0, 0, size, 0, 2 * Math.PI)</code></li>
                            <li><strong>Square:</strong> <code>ctx.rect(-size, -size, size * 2, size * 2)</code></li>
                            <li><strong>Triangle:</strong> Custom coordinate path</li>
                        </ul>
                    </div>
                </div>

                <div class="step-card" data-step="4">
                    <div class="step-header-card">
                        <span class="step-number">4</span>
                        <h3>üìù Logging & Feedback</h3>
                    </div>
                    <div class="step-content">
                        <p><strong>You can see it live:</strong></p>
                        <ul class="step-list">
                            <li><strong>Call Log:</strong> Shows <code>Shape.draw() ‚Üí color.getFillStyle()</code> in the
                                inspector</li>
                            <li><strong>Screen Reader:</strong> Announces "Circle drawn in Red"</li>
                            <li><strong>Visual Result:</strong> Shape actually appears on canvas with correct
                                color</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="bridge-flow">
                <h3>üéØ Complete Bridge Pattern Flow</h3>
                <div class="flow-steps">
                    <div class="flow-step">
                        <div class="flow-icon abstraction">üî∑</div>
                        <div class="flow-text">
                            <strong>1. Abstraction (Shape):</strong><br>
                            "I want to draw myself"
                        </div>
                    </div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="flow-step">
                        <div class="flow-icon delegation">üåâ</div>
                        <div class="flow-text">
                            <strong>2. Delegation:</strong><br>
                            "Color, give me your values!"
                        </div>
                    </div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="flow-step">
                        <div class="flow-icon implementation">üé®</div>
                        <div class="flow-text">
                            <strong>3. Implementation (Color):</strong><br>
                            "Here: #ef4444 for fill, #dc2626 for border"
                        </div>
                    </div>
                    <div class="flow-arrow">‚Üí</div>
                    <div class="flow-step">
                        <div class="flow-icon result">‚ú®</div>
                        <div class="flow-text">
                            <strong>4. Result:</strong><br>
                            Shape drawn in desired color
                        </div>
                    </div>
                </div>
            </div>

            <div class="key-insight">
                <div class="insight-icon">üí°</div>
                <div class="insight-content">
                    <h4>Key Insight:</h4>
                    <p>
                        The Draw method is the <strong>perfect Bridge Pattern demonstration</strong> -
                        it shows live how abstraction and implementation work together while remaining independent.
                        Shape handles the drawing logic, Color provides the styling details!
                    </p>
                </div>
            </div>

            <div class="try-it-note">
                <p>
                    <strong>üîç Try it yourself:</strong> Go back to the playground and connect shapes with colors,
                    then click "Draw All" to see this entire process in action!
                </p>
            </div>

            <div class="step-action">
                <button class="next-step-btn" onclick="goToStep(3)">
                    <span class="btn-text">Back to Playground</span>
                    <span class="btn-icon">üéÆ</span>
                </button>
            </div>
        </div>
    </section>


    <!-- JavaScript -->
    <script src="assets/js/student-optimized-short.js"></script>
</body>

</html>